<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>36 Razones para Quererte</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --silver-accent: rgba(192, 192, 192, 0.6);
            --silver-glow: rgba(255, 255, 255, 0.4);
            --bg-color: #f0f2f5;
            --text-dark: #333;
        }

        body {
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: var(--bg-color);
            font-family: 'Poppins', sans-serif;
            overflow: hidden;
        }

        /* --- HEADER / DEDICATORIA --- */
        header {
            text-align: center;
            margin-bottom: 20px;
            padding: 0 20px;
            z-index: 10;
            animation: fadeIn 1.5s ease;
        }

        h1 {
            font-size: 1.5rem;
            color: #444;
            margin: 0 0 5px 0;
            font-weight: 600;
            letter-spacing: -0.5px;
        }

        p.subtitle {
            font-size: 0.9rem;
            color: #666;
            margin: 0;
            font-weight: 300;
        }

        /* --- CONTENEDOR TARJETA --- */
        .container {
            width: 100%;
            display: flex;
            justify-content: center;
            padding: 10px 20px;
            perspective: 1000px;
        }

        .card {
            width: 100%;
            max-width: 360px;
            aspect-ratio: 4/5;
            background-size: cover;
            background-position: center;
            border-radius: 30px;
            display: flex;
            justify-content: center;
            align-items: flex-end;
            position: relative;
            border: 1px solid var(--silver-accent);
            box-shadow: 
                0 20px 40px -10px rgba(0,0,0,0.3),
                0 0 15px var(--silver-accent);
            overflow: hidden;
            transition: transform 0.5s ease, opacity 0.5s ease;
        }

        .card.fade-out {
            opacity: 0;
            transform: translateX(-50px) scale(0.95);
        }
        
        .card.fade-in {
            opacity: 1;
            transform: translateX(0) scale(1);
        }

        .card::after {
            content: "";
            position: absolute;
            inset: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.2) 60%, rgba(0,0,0,0) 100%);
            z-index: 1;
        }

        .glass-overlay {
            position: relative;
            z-index: 2;
            width: 85%;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            text-align: center;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }

        #message {
            color: #ffffff;
            font-size: 1.05rem;
            font-weight: 500;
            line-height: 1.4;
            margin: 0;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .decoration-line {
            width: 40px;
            height: 3px;
            background: rgba(255, 255, 255, 0.8);
            margin: 15px auto 0 auto;
            border-radius: 2px;
            box-shadow: 0 0 10px rgba(255,255,255,0.5);
        }

        /* --- BOTONES --- */
        .btn-wrapper {
            display: flex;
            flex-direction: column;
            gap: 15px; 
            z-index: 10;
            margin-top: 20px;
            align-items: center;
        }

        button {
            background: rgba(255, 255, 255, 0.8);
            border: 1px solid #ccc;
            padding: 12px 30px;
            border-radius: 50px;
            font-family: 'Poppins', sans-serif;
            font-size: 0.9rem;
            color: #444;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            outline: none;
            font-weight: 500;
            min-width: 200px;
        }

        button:active {
            transform: scale(0.95);
        }

        .btn-next-step {
            background: rgba(255, 255, 255, 0.95);
            border: 1px solid var(--silver-accent);
            font-weight: 600;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @media (max-width: 480px) {
            h1 { font-size: 1.3rem; }
            .card { max-width: 90%; border-radius: 25px; }
            #message { font-size: 1rem; }
        }
    </style>
</head>
<body>

    <header>
        <h1>36 Razones para Quererte</h1>
        <p class="subtitle">Por si se te olvida, siempre puedes volver aquí.</p>
    </header>

    <div class="container">
        <div class="card fade-in" id="card-bg">
            <div class="glass-overlay">
                <p id="message">Cargando...</p>
                <div class="decoration-line"></div>
            </div>
        </div>
    </div>

    <div class="btn-wrapper">
        <button onclick="nextCard()">Ver otra razón</button>
        <button class="btn-next-step" onclick="goToLetter()">¿Quieres Seguir?</button>
    </div>

    <script>
        // --- TUS 36 RAZONES ---
        const messages = [
            "Te quiero porque tu sonrisa despierta ganas de acercarme.",
            "Te quiero porque tus labios me gustan más de lo que imaginas.",
            "Te quiero porque besarme contigo me resulta especial.",
            "Te quiero porque cuando te tengo cerca, me siento cómodo.",
            "Te quiero porque tu presencia se disfruta.",
            "Te quiero porque admiro profundamente la madre que eres con nuestra hija.",
            "Te quiero porque tu dedicación como mamá habla muy bien de ti.",
            "Te quiero porque haces que nuestra hija se sienta cuidada y segura.",
            "Te quiero porque tu forma de cuidar demuestra tu grandeza.",
            "Te quiero porque eres una mujer hermosa, de forma natural.",
            "Te quiero porque tu mirada despierta curiosidad.",
            "Te quiero porque me atraes sin esfuerzo.",
            "Te quiero porque me encanta sentir tu cuerpo cerca del mío.",
            "Te quiero porque tu cercanía me provoca calma.",
            "Te quiero porque me gusta cómo te mueves.",
            "Te quiero porque tu voz me resulta agradable.",
            "Te quiero porque contigo el silencio no incomoda.",
            "Te quiero porque tienes una presencia que se nota.",
            "Te quiero porque me atraes profundamente y no lo escondo.",
            "Te quiero porque admiro la mujer que eres hoy.",
            "Te quiero porque tu sonrisa se queda en mi mente.",
            "Te quiero porque me gusta mirarte.",
            "Te quiero porque la idea de estar contigo despierta muchas ganas en mí.",
            "Te quiero porque tu actitud suma.",
            "Te quiero porque hay algo en ti que llama la atención.",
            "Te quiero porque tu cercanía se siente bien.",
            "Te quiero porque me gusta cómo te expresas.",
            "Te quiero porque transmites seguridad.",
            "Te quiero porque tu forma de cuidar dice mucho de ti.",
            "Te quiero porque hay besos tuyos que disfruto.",
            "Te quiero porque tu piel y tu cercanía me provocan deseo.",
            "Te quiero porque tu esencia se siente cercana.",
            "Te quiero porque tienes una elegancia sencilla.",
            "Te quiero porque me atrae tu forma de mirar.",
            "Te quiero porque me gusta estar contigo.",
            "Te quiero porque estas razones nacen de lo que siento yo."
        ];

        // --- IMÁGENES (Estas se mantienen en aleatorio simple o también podemos barajarlas) ---
        // Para las imágenes dejaré el aleatorio simple para que siempre varíe el fondo aunque el texto lleve un orden de "baraja".
        const images = [
            "https://images.unsplash.com/photo-1469259943454-aa100abba749?q=80&w=687&auto=format&fit=crop", 
            "https://images.unsplash.com/photo-1455659817273-f96807779a8a?q=80&w=1170&auto=format&fit=crop", 
            "https://images.unsplash.com/photo-1747710109053-6a8bcbd58f7d?q=80&w=687&auto=format&fit=crop",
            "https://images.unsplash.com/photo-1470252649378-9c29740c9fa8?auto=format&fit=crop&w=800&q=80",
            "https://images.unsplash.com/photo-1518173946687-a4c8892bbd9f?auto=format&fit=crop&w=800&q=80",
            "https://images.unsplash.com/photo-1619441207978-3d326c46e2c9?q=80&w=1169&auto=format&fit=crop", 
            "https://images.unsplash.com/photo-1601694090572-98694c8b3b85?q=80&w=735&auto=format&fit=crop", 
            "https://images.unsplash.com/photo-1536152470836-b943b246224c?q=80&w=738&auto=format&fit=crop", 
            "https://images.unsplash.com/photo-1500964757637-c85e8a162699?auto=format&fit=crop&w=800&q=80",
            "https://images.unsplash.com/photo-1509042239860-f550ce710b93?q=80&w=687&auto=format&fit=crop",
            "https://images.unsplash.com/photo-1518621736915-f3b1c41bfd00?q=80&w=693&auto=format&fit=crop",
            "https://images.unsplash.com/photo-1496062031456-07b8f162a322?q=80&w=765&auto=format&fit=crop",
            "https://images.unsplash.com/photo-1490750967868-88aa4486c946?q=80&w=1170&auto=format&fit=crop"
        ];

        // --- LÓGICA DE BARAJA PARA NO REPETIR ---
        let shuffledIndices = []; // Aquí guardaremos el orden de las cartas barajadas
        let currentIndex = 0; // Aquí llevamos la cuenta de por cuál vamos

        // Función para barajar (Algoritmo Fisher-Yates)
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        // Inicializar la baraja
        function initDeck() {
            // Creamos un array con números del 0 al 35 [0, 1, 2, ..., 35]
            shuffledIndices = Array.from({ length: messages.length }, (_, i) => i);
            // Los mezclamos
            shuffleArray(shuffledIndices);
            // Reseteamos el contador
            currentIndex = 0;
            console.log("Nueva ronda iniciada. Orden barajado:", shuffledIndices);
        }

        // --- MANEJO DE IMÁGENES (Evitar repetición inmediata) ---
        let lastImageIndex = -1;
        function getRandomImageIndex(max) {
            let newIndex;
            do {
                newIndex = Math.floor(Math.random() * max);
            } while (newIndex === lastImageIndex);
            lastImageIndex = newIndex;
            return newIndex;
        }

        function updateContent() {
            const cardElement = document.getElementById('card-bg');
            const messageElement = document.getElementById('message');

            // 1. OBTENER MENSAJE (LÓGICA NO REPETIR)
            // Si ya mostramos todas las cartas, barajamos de nuevo
            if (currentIndex >= shuffledIndices.length) {
                initDeck();
            }

            // Sacamos el índice de la carta actual
            const messageIndex = shuffledIndices[currentIndex];
            // Preparamos el índice para la siguiente vez
            currentIndex++;

            // 2. OBTENER IMAGEN (Lógica aleatoria simple pero bonita)
            const imgIndex = getRandomImageIndex(images.length);
            const imgUrl = images[imgIndex];

            // Pre-cargar imagen para evitar parpadeos
            const imgLoader = new Image();
            imgLoader.src = imgUrl;

            // 3. ACTUALIZAR DOM
            cardElement.style.backgroundImage = `url('${imgUrl}')`;
            messageElement.innerText = messages[messageIndex];
        }

        function nextCard() {
            const card = document.getElementById('card-bg');
            card.classList.remove('fade-in');
            card.classList.add('fade-out');

            setTimeout(() => {
                updateContent();
                card.classList.remove('fade-out');
                card.classList.add('fade-in');
            }, 500); 
        }

        function goToLetter() {
            document.body.style.opacity = '0';
            document.body.style.transition = 'opacity 1s ease';
            setTimeout(() => {
                window.location.href = 'carta.html';
            }, 1000);
        }

        // Al cargar la página:
        initDeck(); // Barajamos primero
        updateContent(); // Mostramos la primera

    </script>
</body>
</html>